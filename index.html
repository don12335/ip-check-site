<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="一個惡搞 FBI 風格的駭客模擬器網站。">
  <title>FBI Hacking Simulator</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script>
</head>

<body>
  <div id="language-bar">
    <label for="languageSwitcher">🌐</label>
    <select id="languageSwitcher">
      <option value="zh-TW">繁體中文</option>
      <option value="en">English</option>
      <option value="ja">日本語</option>
    </select>
  </div>

  <div id="app">
    <h1 data-i18n="title">FBI 駭客模擬器</h1>
    <p data-i18n="desc">請勿關閉視窗，正在存取機密檔案...</p>
    <div class="terminal">
      <div class="line">[ACCESSING FBI DATABASE...]</div>
    </div>
  </div>

  <script>
    const translations = {
      "zh-TW": {
        title: "FBI 駭客模擬器",
        desc: "請勿關閉視窗，正在存取機密檔案..."
      },
      "en": {
        title: "FBI Hacking Simulator",
        desc: "Please do not close this window. Accessing classified files..."
      },
      "ja": {
        title: "FBIハッキングシミュレーター",
        desc: "ウィンドウを閉じないでください。機密ファイルにアクセス中..."
      }
    };

    function setLanguage(lang) {
      const text = translations[lang] || translations['en'];
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        el.innerText = text[key];
      });
      document.documentElement.lang = lang;
    }

    const defaultLang = navigator.language.startsWith('zh') ? 'zh-TW' :
                        navigator.language.startsWith('ja') ? 'ja' : 'en';

    const savedLang = new URLSearchParams(window.location.search).get('lang') || defaultLang;
    document.getElementById('languageSwitcher').value = savedLang;
    setLanguage(savedLang);

    document.getElementById('languageSwitcher').addEventListener('change', (e) => {
      const lang = e.target.value;
      window.location.search = '?lang=' + lang;
    });
  </script>
</body>

</html>
